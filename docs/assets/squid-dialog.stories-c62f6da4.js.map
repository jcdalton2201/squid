{"version":3,"file":"squid-dialog.stories-c62f6da4.js","sources":["../../dist/squid-dialog/squid-dialog.js"],"sourcesContent":["import { css, html } from 'lit';\nimport { BaseElement } from '../utils/baseElement.js';\nimport { defineSquidElement } from '../utils/defineSquidElement.js';\nimport { emitEvent } from '../utils/squidEvents.js';\n\nvar css_248z = css`.header{display:flex;flex-direction:row-reverse}.header button{background:transparent;border:none;color:rgba(72,71,71,.75);cursor:pointer;font-size:1.25rem}`;\n\n/**\n * @tag squid-dialog\n * @summary The `SquidDialog` component is an for a overlay modal.\n\n> Dialogs present critical information, require users to make decisions, and can afford specific tasks without leaving the current screen.\n * @prop {String} open -  If set, the dialog element will be displayed on the page. This is reflected as a property. \n * @prop {String} overlay -  The theme of the dialog's overlay. Valid values are `'light'` and `'dark'` with `'light'` being the default. If no overlay value is set, the dialog will fallback to the light theme. This is reflected as a property. \n * @prop {String} type -  Reflects the dialog's type. If set to `'decision'`, the dialog will behave as a decision dialog as documented in the global ONE Desigrn System documentation lsquided above. Reflected as a property. \n * @event close A [`CustomEvent`](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent) emitted each time the element is closed. The detail property on the event will be the dialog's `returnValue` property. It is up to the user to decide how to set that value.\n * @example\n */\nclass SquidDialog extends BaseElement {\n    constructor() {\n        super();\n        this.bindMethods(['hideModal','__documentKeypress']);\n    }\n    static get styles() {\n        return [css_248z];\n    }\n    static get properties() {\n        return {\n            open: {\n                type: Boolean,\n            }\n        };\n    }\n    firstUpdated(){\n        if(this.open){\n            this.hideModal();\n            this.showModal();\n        }\n    }\n    render() {\n        return html` <dialog id=\"${this.id}\" ?open=${this.open} >\n        <div class=\"header\">\n                            <button\n                                action=\"javascript:void(0)\"\n                                class=\"dialog-close\"\n                                tabindex=\"0\"\n                                role=\"link\"\n                                aria-label=\"close\"\n                                data-ref=\"close\"\n                                @click=${this.hideModal}\n                            >\n                                X\n                            </button>\n                        </div>\n                        <div class=\"content\"><slot></slot>\n                        </div>\n        </dialog>`;\n    }\n\n    /**\n     * Show the modal and set the appropriate ODS classes\n     * add document keydown listener for Escape key\n     * to close the modal\n     */\n    showModal() {\n        this.open = true;\n        this.renderRoot.querySelector('dialog').showModal();\n        document.addEventListener('keydown',this.__documentKeypress);\n        emitEvent('open', null,this);\n    }\n\n    hideModal(){\n        this.open = false;\n        this.renderRoot.querySelector('dialog').close();\n        emitEvent('close',null,this);\n        document.removeEventListener('keydown',this.__documentKeypress);\n    }\n    /**\n     * Handel the escape event\n     * @param {Event} evt keypress event\n     */\n    __documentKeypress(evt){\n        if(evt.key === 'Escape' && this.type !== 'decision'){\n            this.open = false;\n        }\n    }\n}\ndefineSquidElement('squid-dialog', SquidDialog);\n\nexport { SquidDialog };\n"],"names":["css_248z","css","SquidDialog","BaseElement","html","emitEvent","evt","defineSquidElement"],"mappings":"8QAKA,IAAIA,EAAWC,gKAaf,MAAMC,UAAoBC,CAAY,CAClC,aAAc,CACV,QACA,KAAK,YAAY,CAAC,YAAY,oBAAoB,CAAC,CACtD,CACD,WAAW,QAAS,CAChB,MAAO,CAACH,CAAQ,CACnB,CACD,WAAW,YAAa,CACpB,MAAO,CACH,KAAM,CACF,KAAM,OACT,CACb,CACK,CACD,cAAc,CACP,KAAK,OACJ,KAAK,UAAS,EACd,KAAK,UAAS,EAErB,CACD,QAAS,CACL,OAAOI,iBAAoB,KAAK,aAAa,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCASjB,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAQzC,CAOD,WAAY,CACR,KAAK,KAAO,GACZ,KAAK,WAAW,cAAc,QAAQ,EAAE,UAAS,EACjD,SAAS,iBAAiB,UAAU,KAAK,kBAAkB,EAC3DC,EAAU,OAAQ,KAAK,IAAI,CAC9B,CAED,WAAW,CACP,KAAK,KAAO,GACZ,KAAK,WAAW,cAAc,QAAQ,EAAE,MAAK,EAC7CA,EAAU,QAAQ,KAAK,IAAI,EAC3B,SAAS,oBAAoB,UAAU,KAAK,kBAAkB,CACjE,CAKD,mBAAmBC,EAAI,CAChBA,EAAI,MAAQ,UAAY,KAAK,OAAS,aACrC,KAAK,KAAO,GAEnB,CACL,CACAC,EAAmB,eAAgBL,CAAW;;;;;;;;;;"}