{"version":3,"file":"squid-accordion-group.stories-ec0d94b4.js","sources":["../../dist/squid-accordion-group/squid-accordion-group.js"],"sourcesContent":["import { css, html } from 'lit';\nimport { BaseElement } from '../utils/baseElement.js';\nimport { defineSquidElement } from '../utils/defineSquidElement.js';\n\nvar css_248z = css`:host{display:block}::slotted(squid-accordion){border-top:1px solid grey;margin-bottom:0}::slotted(squid-accordion:first-of-type){border-top:0}`;\n\n/**\r\n * \r\n * @tag squid-accordion-group\r\n * @summary `SquidAccordion` is a web component. \r\n\r\nThe `SquidAccordionGroup` element exists to group instances of `SquidAccordion`. Importing the accordion group also implicitly imports the accordions. The primary function is to group accordions so that only one accordion is open at a time. * \r\n * @example <squid-accordion-group>\r\n  <!-- one -->\r\n  <squid-accordion>\r\n    <span slot=\"summary\">The first accordion in the group</span>\r\n    <div slot=\"content\">\r\n      <p>Four score and seven years ago our fathers brought forth on this continent a new nation conceived in liberty and dedicated to the proposition that all men are created equal.</p>\r\n    </div>\r\n  </squid-accordion>\r\n\r\n  <!-- two -->\r\n  <squid-accordion>\r\n    <span slot=\"summary\">The middle child</span>\r\n    <div slot=\"content\">\r\n      <p>Four score and seven years ago our fathers brought forth on this continent a new nation conceived in liberty and dedicated to the proposition that all men are created equal.</p>\r\n    </div>\r\n  </squid-accordion>\r\n\r\n  <!-- three -->\r\n  <squid-accordion>\r\n    <span slot=\"summary\">Accordion number three</span>\r\n    <div slot=\"content\">\r\n      <p>Four score and seven years ago our fathers brought forth on this continent a new nation conceived in liberty and dedicated to the proposition that all men are created equal.</p>\r\n    </div>\r\n  </squid-accordion>\r\n</squid-accordion-group> \r\n*/\r\nclass SquidAccordionGroup extends BaseElement {\r\n    static get styles() {\r\n        return [css_248z];\r\n    }\r\n    static get properties() {\r\n        return {};\r\n    }\r\n    constructor() {\r\n        super();\r\n        this.bindMethods(['_manageGroup','_onKeyDown']);\r\n    }\r\n    disconnected(){\r\n        this.super();\r\n        this.removeAttribute('keydown',this._onKeyDown);\r\n    }\r\n    firstUpdated(){\r\n        this.addEventListener('keydown',this._onKeyDown);\r\n    }\r\n    render(){\r\n        return html`<div data-ref=\"group\" @accordion-toggle=${this._manageGroup}><slot></slot></div>`;\r\n    }\r\n    /**\r\n     * \r\n     * @param {Event} evt \r\n     */\r\n    _manageGroup(evt){\r\n        if(evt.detail){\r\n            this.querySelectorAll('[open]').forEach(accordion => {\r\n                if(accordion !== evt.currentTarget) {\r\n                    accordion.open = false;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    _onKeyDown(evt){\r\n        const { keyCode } = evt;\r\n        if (keyCode === 38 || keyCode === 40) {\r\n            const accordions = [...this.querySelectorAll('squid-accordion')];\r\n            const focused = accordions.reduce((current, step) =>document.activeElement === current ? current : step\r\n                , false);\r\n            const focusedIndex = accordions.indexOf(focused);\r\n            const previous = accordions[focusedIndex - 1];\r\n            const next = accordions[focusedIndex + 1];\r\n            if (keyCode === 38) {\r\n                if(previous){\r\n                    previous.focus();\r\n                }\r\n                \r\n            } else {\r\n                if(next){\r\n                    next.focus();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\ndefineSquidElement('squid-accordion-group',SquidAccordionGroup);\n\nexport { SquidAccordionGroup };\n"],"names":["css_248z","css","SquidAccordionGroup","BaseElement","html","evt","accordion","keyCode","accordions","focused","current","step","focusedIndex","previous","next","defineSquidElement"],"mappings":"wJAIA,IAAIA,EAAWC,mJAkCf,MAAMC,UAA4BC,CAAY,CAC1C,WAAW,QAAS,CAChB,MAAO,CAACH,CAAQ,CACnB,CACD,WAAW,YAAa,CACpB,MAAO,EACV,CACD,aAAc,CACV,QACA,KAAK,YAAY,CAAC,eAAe,YAAY,CAAC,CACjD,CACD,cAAc,CACV,KAAK,MAAK,EACV,KAAK,gBAAgB,UAAU,KAAK,UAAU,CACjD,CACD,cAAc,CACV,KAAK,iBAAiB,UAAU,KAAK,UAAU,CAClD,CACD,QAAQ,CACJ,OAAOI,4CAA+C,KAAK,kCAC9D,CAKD,aAAaC,EAAI,CACVA,EAAI,QACH,KAAK,iBAAiB,QAAQ,EAAE,QAAQC,GAAa,CAC9CA,IAAcD,EAAI,gBACjBC,EAAU,KAAO,GAErC,CAAa,CAER,CAED,WAAWD,EAAI,CACX,KAAM,CAAE,QAAAE,CAAS,EAAGF,EACpB,GAAIE,IAAY,IAAMA,IAAY,GAAI,CAClC,MAAMC,EAAa,CAAC,GAAG,KAAK,iBAAiB,iBAAiB,CAAC,EACzDC,EAAUD,EAAW,OAAO,CAACE,EAASC,IAAQ,SAAS,gBAAkBD,EAAUA,EAAUC,EAC7F,EAAK,EACLC,EAAeJ,EAAW,QAAQC,CAAO,EACzCI,EAAWL,EAAWI,EAAe,CAAC,EACtCE,EAAON,EAAWI,EAAe,CAAC,EACpCL,IAAY,GACTM,GACCA,EAAS,MAAK,EAIfC,GACCA,EAAK,MAAK,EAIzB,CACL,CACAC,EAAmB,wBAAwBb,CAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}