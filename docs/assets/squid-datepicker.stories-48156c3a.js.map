{"version":3,"file":"squid-datepicker.stories-48156c3a.js","sources":["../../dist/squid-datepicker/squid-datepicker.js"],"sourcesContent":["import { css, html } from 'lit';\nimport { defineSquidElement } from '../utils/defineSquidElement.js';\nimport { SquidInput } from '../squid-input/squid-input.js';\nimport '../squid-calendar/squid-calendar.js';\n\nvar css_248z = css`#container{max-width:200px}#container squid-calendar.hide{display:none}`;\n\n/**\n * @tag squid-datepicker\n * @summary The `SquidDatepicker` component is an version of input with a type of text.  \n * It will use the [SquidCalendar](../squid-Calendar) to display a calendar for picking a date.\n * @prop {String} disabled - A proxy for the input disabled attribute. Reflected as a property. \n * @prop {String} required - A proxy for the input required attribute. Reflected as a property. \n * @prop {String} autofocus - A proxy for the input autofocus attribute. Reflected as a property. \n * @prop {String} placeholder - A proxy for the input placeholder attribute. Reflected as a property. \n * @prop {String} value - Sets the input's value and emits an `squid-change` event when updated. Reflected as a property. \n * @prop {String} autocomplete - A proxy for the input's `autocomplete` property. Reflected as a property. \n * @prop {String} pattern - A RegEx to be used by the input for validation purposes. Serves as a proxy for the input's pattern property/attribute. \n * @event squid-change A [`CustomEvent`](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent) emitted each time the input's value is changed. Not to be confused with the browser `change` event which only fires when an input is blurred. The `detail` property contains the input's value.\n * @example <squid-datepicker required >This input will run validations</squid-datepicker\n */\nclass SquidDatepicker extends SquidInput {\n    static get styles() {\n        return [...super.styles, css_248z];\n    }\n    static get properties() {\n        return {\n            value: {\n                type: String,\n                reflect: true,\n                converter: {\n                    toAttribute(value) {\n                        if(value instanceof Date){\n                            return this.localization.format(value);\n                        } \n                        return value;\n                    },\n                    fromAttribute(value) {\n                        if(value){\n                            return new Date(value);\n                        }\n                        return null;\n                    },\n                },\n            },\n        };\n    }\n    constructor() {\n        super();\n        this.bindMethods(['toggleCalendar', 'selectedValue']);\n        const lang = document.querySelector('html').lang || 'en-US';\n        this.dayFormat = this.dayFormat || '2-digit';\n        this.monthFormat = this.monthFormat || '2-digit';\n        this.yearFormat = this.yearFormat || 'numeric';\n        this.localization = new Intl.DateTimeFormat(lang, {\n            day: this.dayFormat,\n            month: this.monthFormat,\n            year: this.yearFormat,\n        });\n    }\n    firstUpdated(){\n        this.buildRefs();\n    }\n    render(){\n        return html`\n    <div id=\"container\" data-ref=\"wrapper\">\n        <div class=\"label-wrapper\">\n            <label class=\"textfield__label\" for=\"squid-input-${this._uid}\" data-ref=\"label\"><slot></slot>${this._showDisabled}</label>\n            <squid-character-count data-ref=\"counter\" ?hidden=${!this.counter} id=\"counter-${this._uid}\" }></squid-character-count>\n        </div>\n        <input class=\"textfield__input\" \n                type=\"${this._inputType}\" \n                name=\"squid-input\" \n                id=\"squid-input-${this._uid}\" \n                data-ref=\"input\"\n                ?disabled=${this.disabled}\n                ?required=${this.required}\n                ?readonly=${this.readonly}\n                value=${this.value ?this.value:''}\n                ?autofocus=${this.autofocus}\n                ?compact=${this.compact}\n                @input=${this.__onInput}\n                maxlength=\"${this.maxlength?this.maxlength:''}\"\n                max=\"${this.max?this.max:''}\"\n                minlength=\"${this.minlength?this.minlength:''}\"\n                min=\"${this.min?this.min:''}\"\n                placeholder=\"${this.placeholder?this.placeholder:''}\"\n                autocomplete=\"${this.autocomplete?this.autocomplete:''}\"\n                @click=${this.toggleCalendar}\n                aria-describedby=\" helpers-${this._uid} counter-${this._uid}\"\n                class=\"\">\n        <squid-helpers id=\"helpers-${this._uid}\" data-ref=\"helpers\"></squid-helpers>\n        <squid-calendar value='${this.value}'  class='hide' @date-selected=${this.selectedValue} @date-submit=${this.selectedValue} @date-close=${this.toggleCalendar}  data-ref=\"calendar\" id=\"calendar-${this._uid}\"></squid-calendar>\n    </div>\n        `;\n    }\n    toggleCalendar(){\n        const { calendar } = this.refs;\n        const newDate = new Date(this.value);\n        if(newDate != 'Invalid Date'){\n            calendar.value = new Date(this.value);\n        }\n        calendar.classList.toggle('hide');\n    }\n    selectedValue(){\n        const { calendar, input } = this.refs;\n        try {\n            input.value = this.localization.format(calendar.value);            \n        } catch (error) {\n            input.value = '';\n        }\n        this.value = input.value;\n        calendar.classList.toggle('hide');\n    }\n}\ndefineSquidElement('squid-datepicker',SquidDatepicker);\n\nexport { SquidDatepicker };\n"],"names":["css_248z","css","SquidDatepicker","SquidInput","value","lang","html","calendar","input","defineSquidElement"],"mappings":"6UAKA,IAAIA,EAAWC,2EAgBf,MAAMC,UAAwBC,CAAW,CACrC,WAAW,QAAS,CAChB,MAAO,CAAC,GAAG,MAAM,OAAQH,CAAQ,CACpC,CACD,WAAW,YAAa,CACpB,MAAO,CACH,MAAO,CACH,KAAM,OACN,QAAS,GACT,UAAW,CACP,YAAYI,EAAO,CACf,OAAGA,aAAiB,KACT,KAAK,aAAa,OAAOA,CAAK,EAElCA,CACV,EACD,cAAcA,EAAO,CACjB,OAAGA,EACQ,IAAI,KAAKA,CAAK,EAElB,IACV,CACJ,CACJ,CACb,CACK,CACD,aAAc,CACV,QACA,KAAK,YAAY,CAAC,iBAAkB,eAAe,CAAC,EACpD,MAAMC,EAAO,SAAS,cAAc,MAAM,EAAE,MAAQ,QACpD,KAAK,UAAY,KAAK,WAAa,UACnC,KAAK,YAAc,KAAK,aAAe,UACvC,KAAK,WAAa,KAAK,YAAc,UACrC,KAAK,aAAe,IAAI,KAAK,eAAeA,EAAM,CAC9C,IAAK,KAAK,UACV,MAAO,KAAK,YACZ,KAAM,KAAK,UACvB,CAAS,CACJ,CACD,cAAc,CACV,KAAK,UAAS,CACjB,CACD,QAAQ,CACJ,OAAOC;AAAAA;AAAAA;AAAAA,+DAGgD,KAAK,uCAAuC,KAAK;AAAA,gEAChD,CAAC,KAAK,uBAAuB,KAAK;AAAA;AAAA;AAAA,wBAG1E,KAAK;AAAA;AAAA,kCAEK,KAAK;AAAA;AAAA,4BAEX,KAAK;AAAA,4BACL,KAAK;AAAA,4BACL,KAAK;AAAA,wBACT,KAAK,MAAO,KAAK,MAAM;AAAA,6BAClB,KAAK;AAAA,2BACP,KAAK;AAAA,yBACP,KAAK;AAAA,6BACD,KAAK,UAAU,KAAK,UAAU;AAAA,uBACpC,KAAK,IAAI,KAAK,IAAI;AAAA,6BACZ,KAAK,UAAU,KAAK,UAAU;AAAA,uBACpC,KAAK,IAAI,KAAK,IAAI;AAAA,+BACV,KAAK,YAAY,KAAK,YAAY;AAAA,gCACjC,KAAK,aAAa,KAAK,aAAa;AAAA,yBAC3C,KAAK;AAAA,6CACe,KAAK,gBAAgB,KAAK;AAAA;AAAA,qCAElC,KAAK;AAAA,iCACT,KAAK,uCAAuC,KAAK,8BAA8B,KAAK,6BAA6B,KAAK,oDAAoD,KAAK;AAAA;AAAA,SAG3M,CACD,gBAAgB,CACZ,KAAM,CAAE,SAAAC,CAAQ,EAAK,KAAK,KACV,IAAI,KAAK,KAAK,KAAK,GACrB,iBACVA,EAAS,MAAQ,IAAI,KAAK,KAAK,KAAK,GAExCA,EAAS,UAAU,OAAO,MAAM,CACnC,CACD,eAAe,CACX,KAAM,CAAE,SAAAA,EAAU,MAAAC,GAAU,KAAK,KACjC,GAAI,CACAA,EAAM,MAAQ,KAAK,aAAa,OAAOD,EAAS,KAAK,CACxD,MAAC,CACEC,EAAM,MAAQ,EACjB,CACD,KAAK,MAAQA,EAAM,MACnBD,EAAS,UAAU,OAAO,MAAM,CACnC,CACL,CACAE,EAAmB,mBAAmBP,CAAe;;;;;;;;;;;;;;;;;;;;"}