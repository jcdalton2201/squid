{"version":3,"file":"squid-accordion-group.stories-d6b51874.js","sources":["../../dist/squid-accordion-group/squid-accordion-group.js"],"sourcesContent":["import { css, html } from 'lit';\nimport { BaseElement } from '../utils/baseElement.js';\nimport { defineSquidElement } from '../utils/defineSquidElement.js';\n\nvar css_248z = css`:host{display:block}::slotted(squid-accordion){border-top:1px solid grey;margin-bottom:0}::slotted(squid-accordion:first-of-type){border-top:0}`;\n\n/**\n * \n * @tag squid-accordion-group\n * @summary `SquidAccordion` is a web component. \n\nThe `SquidAccordionGroup` element exists to group instances of `SquidAccordion`. Importing the accordion group also implicitly imports the accordions. The primary function is to group accordions so that only one accordion is open at a time. * \n * @example <squid-accordion-group>\n  <!-- one -->\n  <squid-accordion>\n    <span slot=\"summary\">The first accordion in the group</span>\n    <div slot=\"content\">\n      <p>Four score and seven years ago our fathers brought forth on this continent a new nation conceived in liberty and dedicated to the proposition that all men are created equal.</p>\n    </div>\n  </squid-accordion>\n\n  <!-- two -->\n  <squid-accordion>\n    <span slot=\"summary\">The middle child</span>\n    <div slot=\"content\">\n      <p>Four score and seven years ago our fathers brought forth on this continent a new nation conceived in liberty and dedicated to the proposition that all men are created equal.</p>\n    </div>\n  </squid-accordion>\n\n  <!-- three -->\n  <squid-accordion>\n    <span slot=\"summary\">Accordion number three</span>\n    <div slot=\"content\">\n      <p>Four score and seven years ago our fathers brought forth on this continent a new nation conceived in liberty and dedicated to the proposition that all men are created equal.</p>\n    </div>\n  </squid-accordion>\n</squid-accordion-group> \n*/\nclass SquidAccordionGroup extends BaseElement {\n    static get styles() {\n        return [css_248z];\n    }\n    static get properties() {\n        return {};\n    }\n    constructor() {\n        super();\n        this.bindMethods(['_manageGroup','_onKeyDown']);\n    }\n    disconnected(){\n        this.super();\n        this.removeAttribute('keydown',this._onKeyDown);\n    }\n    firstUpdated(){\n        this.addEventListener('keydown',this._onKeyDown);\n    }\n    render(){\n        return html`<div data-ref=\"group\" @accordion-toggle=${this._manageGroup}><slot></slot></div>`;\n    }\n    /**\n     * \n     * @param {Event} evt \n     */\n    _manageGroup(evt){\n        if(evt.detail){\n            this.querySelectorAll('[open]').forEach(accordion => {\n                if(accordion !== evt.currentTarget) {\n                    accordion.open = false;\n                }\n            });\n        }\n    }\n\n    _onKeyDown(evt){\n        const { keyCode } = evt;\n        if (keyCode === 38 || keyCode === 40) {\n            const accordions = [...this.querySelectorAll('squid-accordion')];\n            const focused = accordions.reduce((current, step) =>document.activeElement === current ? current : step\n                , false);\n            const focusedIndex = accordions.indexOf(focused);\n            const previous = accordions[focusedIndex - 1];\n            const next = accordions[focusedIndex + 1];\n            if (keyCode === 38) {\n                if(previous){\n                    previous.focus();\n                }\n                \n            } else {\n                if(next){\n                    next.focus();\n                }\n            }\n        }\n    }\n}\ndefineSquidElement('squid-accordion-group',SquidAccordionGroup);\n\nexport { SquidAccordionGroup };\n"],"names":["css_248z","css","SquidAccordionGroup","BaseElement","html","evt","accordion","keyCode","accordions","focused","current","step","focusedIndex","previous","next","defineSquidElement"],"mappings":"wJAIA,IAAIA,EAAWC,mJAkCf,MAAMC,UAA4BC,CAAY,CAC1C,WAAW,QAAS,CAChB,MAAO,CAACH,CAAQ,CACnB,CACD,WAAW,YAAa,CACpB,MAAO,EACV,CACD,aAAc,CACV,QACA,KAAK,YAAY,CAAC,eAAe,YAAY,CAAC,CACjD,CACD,cAAc,CACV,KAAK,MAAK,EACV,KAAK,gBAAgB,UAAU,KAAK,UAAU,CACjD,CACD,cAAc,CACV,KAAK,iBAAiB,UAAU,KAAK,UAAU,CAClD,CACD,QAAQ,CACJ,OAAOI,4CAA+C,KAAK,kCAC9D,CAKD,aAAaC,EAAI,CACVA,EAAI,QACH,KAAK,iBAAiB,QAAQ,EAAE,QAAQC,GAAa,CAC9CA,IAAcD,EAAI,gBACjBC,EAAU,KAAO,GAErC,CAAa,CAER,CAED,WAAWD,EAAI,CACX,KAAM,CAAE,QAAAE,CAAS,EAAGF,EACpB,GAAIE,IAAY,IAAMA,IAAY,GAAI,CAClC,MAAMC,EAAa,CAAC,GAAG,KAAK,iBAAiB,iBAAiB,CAAC,EACzDC,EAAUD,EAAW,OAAO,CAACE,EAASC,IAAQ,SAAS,gBAAkBD,EAAUA,EAAUC,EAC7F,EAAK,EACLC,EAAeJ,EAAW,QAAQC,CAAO,EACzCI,EAAWL,EAAWI,EAAe,CAAC,EACtCE,EAAON,EAAWI,EAAe,CAAC,EACpCL,IAAY,GACTM,GACCA,EAAS,MAAK,EAIfC,GACCA,EAAK,MAAK,EAIzB,CACL,CACAC,EAAmB,wBAAwBb,CAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}