{"version":3,"file":"squid-dialog.stories-d5147c4c.js","sources":["../../dist/squid-dialog/squid-dialog.js"],"sourcesContent":["import { css, html } from 'lit';\nimport { BaseElement } from '../utils/baseElement.js';\nimport { defineSquidElement } from '../utils/defineSquidElement.js';\nimport { emitEvent } from '../utils/squidEvents.js';\n\nvar css_248z = css`.header{display:flex;flex-direction:row-reverse}.header button{background:transparent;border:none;color:rgba(72,71,71,.75);cursor:pointer;font-size:1.25rem}`;\n\n/**\r\n * @tag squid-dialog\r\n * @summary The `SquidDialog` component is an for a overlay modal.\r\n\r\n> Dialogs present critical information, require users to make decisions, and can afford specific tasks without leaving the current screen.\r\n * @prop {String} open -  If set, the dialog element will be displayed on the page. This is reflected as a property. \r\n * @prop {String} overlay -  The theme of the dialog's overlay. Valid values are `'light'` and `'dark'` with `'light'` being the default. If no overlay value is set, the dialog will fallback to the light theme. This is reflected as a property. \r\n * @prop {String} type -  Reflects the dialog's type. If set to `'decision'`, the dialog will behave as a decision dialog as documented in the global ONE Desigrn System documentation lsquided above. Reflected as a property. \r\n * @event close A [`CustomEvent`](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent) emitted each time the element is closed. The detail property on the event will be the dialog's `returnValue` property. It is up to the user to decide how to set that value.\r\n * @example\r\n */\r\nclass SquidDialog extends BaseElement {\r\n    constructor() {\r\n        super();\r\n        this.bindMethods(['hideModal','__documentKeypress']);\r\n    }\r\n    static get styles() {\r\n        return [css_248z];\r\n    }\r\n    static get properties() {\r\n        return {\r\n            open: {\r\n                type: Boolean,\r\n            }\r\n        };\r\n    }\r\n    firstUpdated(){\r\n        if(this.open){\r\n            this.hideModal();\r\n            this.showModal();\r\n        }\r\n    }\r\n    render() {\r\n        return html` <dialog id=\"${this.id}\" ?open=${this.open} >\r\n        <div class=\"header\">\r\n                            <button\r\n                                action=\"javascript:void(0)\"\r\n                                class=\"dialog-close\"\r\n                                tabindex=\"0\"\r\n                                role=\"link\"\r\n                                aria-label=\"close\"\r\n                                data-ref=\"close\"\r\n                                @click=${this.hideModal}\r\n                            >\r\n                                X\r\n                            </button>\r\n                        </div>\r\n                        <div class=\"content\"><slot></slot>\r\n                        </div>\r\n        </dialog>`;\r\n    }\r\n\r\n    /**\r\n     * Show the modal and set the appropriate ODS classes\r\n     * add document keydown listener for Escape key\r\n     * to close the modal\r\n     */\r\n    showModal() {\r\n        this.open = true;\r\n        this.renderRoot.querySelector('dialog').showModal();\r\n        document.addEventListener('keydown',this.__documentKeypress);\r\n        emitEvent('open', null,this);\r\n    }\r\n\r\n    hideModal(){\r\n        this.open = false;\r\n        this.renderRoot.querySelector('dialog').close();\r\n        emitEvent('close',null,this);\r\n        document.removeEventListener('keydown',this.__documentKeypress);\r\n    }\r\n    /**\r\n     * Handel the escape event\r\n     * @param {Event} evt keypress event\r\n     */\r\n    __documentKeypress(evt){\r\n        if(evt.key === 'Escape' && this.type !== 'decision'){\r\n            this.open = false;\r\n        }\r\n    }\r\n}\r\ndefineSquidElement('squid-dialog', SquidDialog);\n\nexport { SquidDialog };\n"],"names":["css_248z","css","SquidDialog","BaseElement","html","emitEvent","evt","defineSquidElement"],"mappings":"8QAKA,IAAIA,EAAWC,gKAaf,MAAMC,UAAoBC,CAAY,CAClC,aAAc,CACV,QACA,KAAK,YAAY,CAAC,YAAY,oBAAoB,CAAC,CACtD,CACD,WAAW,QAAS,CAChB,MAAO,CAACH,CAAQ,CACnB,CACD,WAAW,YAAa,CACpB,MAAO,CACH,KAAM,CACF,KAAM,OACT,CACb,CACK,CACD,cAAc,CACP,KAAK,OACJ,KAAK,UAAS,EACd,KAAK,UAAS,EAErB,CACD,QAAS,CACL,OAAOI,iBAAoB,KAAK,aAAa,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCASjB,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAQzC,CAOD,WAAY,CACR,KAAK,KAAO,GACZ,KAAK,WAAW,cAAc,QAAQ,EAAE,UAAS,EACjD,SAAS,iBAAiB,UAAU,KAAK,kBAAkB,EAC3DC,EAAU,OAAQ,KAAK,IAAI,CAC9B,CAED,WAAW,CACP,KAAK,KAAO,GACZ,KAAK,WAAW,cAAc,QAAQ,EAAE,MAAK,EAC7CA,EAAU,QAAQ,KAAK,IAAI,EAC3B,SAAS,oBAAoB,UAAU,KAAK,kBAAkB,CACjE,CAKD,mBAAmBC,EAAI,CAChBA,EAAI,MAAQ,UAAY,KAAK,OAAS,aACrC,KAAK,KAAO,GAEnB,CACL,CACAC,EAAmB,eAAgBL,CAAW;;;;;;;;;;"}